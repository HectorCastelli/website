---
import { getCollection, CollectionEntry } from "astro:content";
import {micromark} from "micromark";
import Tag from "@components/Tag.astro";
import Article from "@layouts/Article.astro";

export async function getStaticPaths() {
    const blogs = await getCollection("blog");

    return Promise.all(
        blogs.map(async (blog) => ({
            params: {
                slug: blog.slug,
            },
            props: {
                currentBlog: blog,
            },
        }))
    );
}

interface Props {
    currentBlog: CollectionEntry<"blog">;
}

const { currentBlog } = Astro.props;
---
<Article post={currentBlog}/>